{% load static %}
<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>–°–ø–∏—Å–æ–∫ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–π</title>
    <link rel="stylesheet" href="{% static 'css/style.css' %}"/>
</head>
<body>
<header>
    <h1 class="logo"><a href="{% url 'main:index' %}">–ú–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è</a></h1>
    <nav>
        <a href="{% url 'main:index' %}">–ì–ª–∞–≤–Ω–∞—è</a>

        <!-- –û–±–µ—Ä—Ç–∫–∞ –¥–ª—è "–ü—Ä–æ—Ñ–∏–ª—å" + –º–µ–Ω—é -->
    <div class="profile-menu-wrapper" style="display: inline-block; position: relative;">
        {% if request.user.is_authenticated %}
            <a href="#" class="profile-link" id="profileLink"><span class="username">{{request.user.username}}</span>–ü—Ä–æ—Ñ–∏–ª—å</a>
        {% else %}
            <a href="#" class="profile-link" id="profileLink">–ü—Ä–æ—Ñ–∏–ª—å</a>
        {% endif %}

        <!-- –í—ã–ø–∞–¥–∞—é—â–µ–µ –º–µ–Ω—é -->
        <div id="profileDropdown"
             style="display: none; position: absolute; top: 100%; left: -24px; min-width: 150px; background: #fff; box-shadow: 0 8px 16px rgba(0,0,0,0.2); z-index: 1000;">
            {% if request.user.is_authenticated %}
                <a href="{% url 'users:profile' %}" style="display: block; padding: 8px 12px; text-decoration: none; color: #009be7;">{{request.user.username}}</a>

                {% if request.user.is_authenticated and request.user.is_superuser %}
                    <a href="{% url 'admin:index' %}" style="display: block; padding: 8px 12px; text-decoration: none; color: #000;">–∞–¥–º–∏–Ω–∫–∞</a>
                {% endif %}

                <a href="{% url 'users:logout' %}" style="display: block; padding: 8px 12px; text-decoration: none; color: #000;">–í—ã–π—Ç–∏</a>

            {% else %}
                <a href="{% url 'users:login' %}" style="display: block; padding: 8px 12px; text-decoration: none; color: #000;">–í–æ–π—Ç–∏</a>
                <a href="{% url 'users:registration' %}" style="display: block; padding: 8px 12px; text-decoration: none; color: #000;">–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</a>
            {% endif %}
        </div>
    </div>

        {% if request.user.is_authenticated %}
        <div class="notification-container">
            <button id="notif-bell" class="notification-bell" title="–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è">
                üîî
                <span class="badge" style="{% if message_status.exists %}display: block;{% else %}display: none;{% endif %}" id="notif-count"></span>
            </button>
        </div>
        {% endif %}
    </nav>
</header>

{% block content %}
{% endblock %}

<script src="{% static 'js/script.js' %}"></script>
</body>
</html>